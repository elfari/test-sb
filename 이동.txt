import os
import shutil

# 1. 복사할 파일 경로 배열
file_list = [
    r"C:\myapp\1.txt",
    r"C:\myapp\test\2.txt"
]

# 2. 복사될 대상 디렉토리
dest_dir = r"C:\myapp_copy"

# 복사 실행
for file_path in file_list:
    if not os.path.isfile(file_path):
        print(f"파일 없음: {file_path}")
        continue

    # 원본 기준 디렉토리 (myapp)
    base_dir = r"C:\myapp"

    # 상대 경로 계산
    rel_path = os.path.relpath(file_path, base_dir)

    # 대상 파일의 전체 경로
    target_path = os.path.join(dest_dir, rel_path)

    # 대상 디렉토리 생성
    os.makedirs(os.path.dirname(target_path), exist_ok=True)

    # 파일 복사
    shutil.copy2(file_path, target_path)
    print(f"복사 완료: {file_path} -> {target_path}")