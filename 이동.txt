SELECT 
    t.mastid,
    x.emp_nr,
    x.emp_name
FROM 
    mastdetail t,
    XMLTABLE(
        DECLARE NAMESPACE ns="http://www.tobeway.com/mdm";
        '/ns:MasterInfo/Masters/Master/PropValues/Section/Segment'
        PASSING XMLTYPE(t.mastxml)
        COLUMNS 
            -- Prop ID가 'EMPNR'인 노드의 PropValue 값을 추출
            emp_nr   VARCHAR2(100) PATH 'Prop[@ID="EMPNR"]/Area/PropValue/@Value',
            -- Prop ID가 'DESCP'인 노드의 PropValue 값을 추출
            emp_name VARCHAR2(100) PATH 'Prop[@ID="DESCP"]/Area/PropValue/@Value'
    ) x;








SELECT 
    t.mastid,
    x.prop_id,
    x.prop_value
FROM 
    mastdetail t,
    XMLTABLE(
        DECLARE NAMESPACE ns="http://www.tobeway.com/mdm";
        '//Prop' -- 모든 Prop 노드를 탐색
        PASSING XMLTYPE(t.mastxml)
        COLUMNS 
            prop_id    VARCHAR2(50)  PATH '@ID',
            prop_value VARCHAR2(200) PATH 'Area/PropValue/@Value'
    ) x;
